# ğŸ¨ é¸£æ²™ç®¡ç†å¹³å° - å‰ç«¯é¡¹ç›®

**åŸºäº Vue 2 + Element UI çš„ç°ä»£åŒ–å‰ç«¯ç®¡ç†ç³»ç»Ÿ**

## ğŸ“‹ é¡¹ç›®ç®€ä»‹

é¸£æ²™ç®¡ç†å¹³å°æ˜¯ä¸€ä¸ªåŸºäº Vue.js å’Œ Element UI æ„å»ºçš„ç°ä»£åŒ–å‰ç«¯ç®¡ç†ç³»ç»Ÿï¼Œæä¾›å®Œæ•´çš„åå°ç®¡ç†è§£å†³æ–¹æ¡ˆã€‚é¡¹ç›®é‡‡ç”¨æ¨¡å—åŒ–è®¾è®¡ï¼Œæ”¯æŒæƒé™ç®¡ç†ã€ç”¨æˆ·ç®¡ç†ã€ç³»ç»Ÿç›‘æ§ç­‰æ ¸å¿ƒåŠŸèƒ½ã€‚

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### ğŸ” æƒé™ç®¡ç†
- åŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶ (RBAC)
- åŠ¨æ€è·¯ç”±æƒé™æ§åˆ¶
- èœå•æƒé™ç®¡ç†
- æŒ‰é’®çº§æƒé™æ§åˆ¶

### ğŸ‘¥ ç”¨æˆ·ç®¡ç†
- ç”¨æˆ·ä¿¡æ¯ç®¡ç†
- è§’è‰²åˆ†é…
- éƒ¨é—¨ç®¡ç†
- ç”¨æˆ·çŠ¶æ€æ§åˆ¶

### ğŸ“Š ç³»ç»Ÿç›‘æ§
- åœ¨çº¿ç”¨æˆ·ç›‘æ§
- ç³»ç»Ÿæ—¥å¿—æŸ¥çœ‹
- æ“ä½œæ—¥å¿—è®°å½•
- æœåŠ¡å™¨çŠ¶æ€ç›‘æ§

### ğŸ› ï¸ ç³»ç»Ÿå·¥å…·
- ä»£ç ç”Ÿæˆå™¨
- æ•°æ®å­—å…¸ç®¡ç†
- ç³»ç»Ÿé…ç½®ç®¡ç†
- å®šæ—¶ä»»åŠ¡ç®¡ç†

### ğŸ¨ ç•Œé¢ç‰¹æ€§
- å“åº”å¼è®¾è®¡ï¼Œæ”¯æŒå¤šç«¯é€‚é…
- ä¸»é¢˜åˆ‡æ¢åŠŸèƒ½
- å›½é™…åŒ–æ”¯æŒ
- é¢åŒ…å±‘å¯¼èˆª
- æ ‡ç­¾é¡µç®¡ç†

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### æ ¸å¿ƒæ¡†æ¶
- **Vue.js 2.x**: æ¸è¿›å¼ JavaScript æ¡†æ¶
- **Element UI**: åŸºäº Vue 2.0 çš„æ¡Œé¢ç«¯ç»„ä»¶åº“
- **Vue Router**: Vue.js å®˜æ–¹è·¯ç”±ç®¡ç†å™¨
- **Vuex**: Vue.js çš„çŠ¶æ€ç®¡ç†æ¨¡å¼

### æ„å»ºå·¥å…·
- **Webpack**: æ¨¡å—æ‰“åŒ…å·¥å…·
- **Babel**: JavaScript ç¼–è¯‘å™¨
- **ESLint**: ä»£ç è´¨é‡æ£€æŸ¥å·¥å…·
- **Prettier**: ä»£ç æ ¼å¼åŒ–å·¥å…·

### å¼€å‘å·¥å…·
- **Axios**: HTTP å®¢æˆ·ç«¯
- **ECharts**: æ•°æ®å¯è§†åŒ–å›¾è¡¨åº“
- **js-cookie**: Cookie æ“ä½œåº“
- **nprogress**: è¿›åº¦æ¡ç»„ä»¶

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- **Node.js**: 16+
- **npm**: 8+
- **Git**: 2.0+

### å¼€å‘ç¯å¢ƒ

```bash
# è¿›å…¥é¡¹ç›®ç›®å½•
cd ui

# å®‰è£…ä¾èµ–
npm install

# å»ºè®®ä¸è¦ç›´æ¥ä½¿ç”¨ cnpm å®‰è£…ä¾èµ–ï¼Œä¼šæœ‰å„ç§è¯¡å¼‚çš„ bugã€‚å¯ä»¥é€šè¿‡å¦‚ä¸‹æ“ä½œè§£å†³ npm ä¸‹è½½é€Ÿåº¦æ…¢çš„é—®é¢˜
npm install --registry=https://registry.npmmirror.com

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev
```

æµè§ˆå™¨è®¿é—® http://localhost:8080

### æ„å»ºå‘å¸ƒ

```bash
# æ„å»ºå¼€å‘ç¯å¢ƒ
npm run build:dev

# æ„å»ºæµ‹è¯•ç¯å¢ƒ
npm run build:stage

# æ„å»ºç”Ÿäº§ç¯å¢ƒ
npm run build:prod
```

## ğŸ“¦ é¡¹ç›®ç»“æ„

```
ui/
â”œâ”€â”€ src/                    # æºä»£ç 
â”‚   â”œâ”€â”€ api/               # API æ¥å£
â”‚   â”‚   â”œâ”€â”€ login.js       # ç™»å½•ç›¸å…³æ¥å£
â”‚   â”‚   â”œâ”€â”€ menu.js        # èœå•ç›¸å…³æ¥å£
â”‚   â”‚   â”œâ”€â”€ monitor/       # ç›‘æ§ç›¸å…³æ¥å£
â”‚   â”‚   â”œâ”€â”€ system/        # ç³»ç»Ÿç®¡ç†æ¥å£
â”‚   â”‚   â””â”€â”€ tool/          # å·¥å…·ç›¸å…³æ¥å£
â”‚   â”œâ”€â”€ assets/            # é™æ€èµ„æº
â”‚   â”‚   â”œâ”€â”€ icons/         # å›¾æ ‡èµ„æº
â”‚   â”‚   â”œâ”€â”€ images/        # å›¾ç‰‡èµ„æº
â”‚   â”‚   â””â”€â”€ styles/        # æ ·å¼æ–‡ä»¶
â”‚   â”œâ”€â”€ components/        # å…¬å…±ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ Breadcrumb/    # é¢åŒ…å±‘ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ DictData/      # å­—å…¸æ•°æ®ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ FileUpload/    # æ–‡ä»¶ä¸Šä¼ ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ Pagination/    # åˆ†é¡µç»„ä»¶
â”‚   â”‚   â””â”€â”€ SvgIcon/       # SVG å›¾æ ‡ç»„ä»¶
â”‚   â”œâ”€â”€ directive/         # è‡ªå®šä¹‰æŒ‡ä»¤
â”‚   â”‚   â”œâ”€â”€ dialog/        # å¯¹è¯æ¡†æŒ‡ä»¤
â”‚   â”‚   â”œâ”€â”€ module/        # æ¨¡å—æŒ‡ä»¤
â”‚   â”‚   â””â”€â”€ permission/    # æƒé™æŒ‡ä»¤
â”‚   â”œâ”€â”€ layout/            # å¸ƒå±€ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ components/    # å¸ƒå±€å­ç»„ä»¶
â”‚   â”‚   â””â”€â”€ mixin/         # å¸ƒå±€æ··å…¥
â”‚   â”œâ”€â”€ plugins/           # æ’ä»¶
â”‚   â”‚   â”œâ”€â”€ auth.js        # è®¤è¯æ’ä»¶
â”‚   â”‚   â”œâ”€â”€ cache.js       # ç¼“å­˜æ’ä»¶
â”‚   â”‚   â””â”€â”€ download.js    # ä¸‹è½½æ’ä»¶
â”‚   â”œâ”€â”€ router/            # è·¯ç”±é…ç½®
â”‚   â”‚   â””â”€â”€ index.js       # è·¯ç”±ä¸»æ–‡ä»¶
â”‚   â”œâ”€â”€ store/             # Vuex çŠ¶æ€ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ modules/       # çŠ¶æ€æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ getters.js     # å…¨å±€ getters
â”‚   â”‚   â””â”€â”€ index.js       # store å…¥å£
â”‚   â”œâ”€â”€ utils/             # å·¥å…·å‡½æ•°
â”‚   â”‚   â”œâ”€â”€ auth.js        # è®¤è¯å·¥å…·
â”‚   â”‚   â”œâ”€â”€ dict/          # å­—å…¸å·¥å…·
â”‚   â”‚   â”œâ”€â”€ generator/     # ä»£ç ç”Ÿæˆå·¥å…·
â”‚   â”‚   â””â”€â”€ index.js       # å·¥å…·å…¥å£
â”‚   â””â”€â”€ views/             # é¡µé¢ç»„ä»¶
â”‚       â”œâ”€â”€ dashboard/     # ä»ªè¡¨æ¿é¡µé¢
â”‚       â”œâ”€â”€ error/         # é”™è¯¯é¡µé¢
â”‚       â”œâ”€â”€ login.vue      # ç™»å½•é¡µé¢
â”‚       â”œâ”€â”€ monitor/       # ç›‘æ§é¡µé¢
â”‚       â”œâ”€â”€ system/        # ç³»ç»Ÿç®¡ç†é¡µé¢
â”‚       â””â”€â”€ tool/          # å·¥å…·é¡µé¢
â”œâ”€â”€ public/                # é™æ€èµ„æº
â”œâ”€â”€ build/                 # æ„å»ºé…ç½®
â”œâ”€â”€ deploy/                # éƒ¨ç½²é…ç½®
â””â”€â”€ package.json           # ä¾èµ–é…ç½®
```

## ğŸ”§ å¼€å‘æŒ‡å—

### ä»£ç è§„èŒƒ

- éµå¾ª Vue.js å®˜æ–¹é£æ ¼æŒ‡å—
- ä½¿ç”¨ ESLint è¿›è¡Œä»£ç æ£€æŸ¥
- ä½¿ç”¨ Prettier è¿›è¡Œä»£ç æ ¼å¼åŒ–
- ç»„ä»¶å‘½åé‡‡ç”¨ PascalCase
- æ–‡ä»¶åé‡‡ç”¨ kebab-case

### ç»„ä»¶å¼€å‘è§„èŒƒ

```vue
<template>
  <!-- æ¨¡æ¿å†…å®¹ -->
</template>

<script>
export default {
  name: 'ComponentName',
  props: {
    // å±æ€§å®šä¹‰
  },
  data() {
    return {
      // æ•°æ®å®šä¹‰
    }
  },
  computed: {
    // è®¡ç®—å±æ€§
  },
  methods: {
    // æ–¹æ³•å®šä¹‰
  }
}
</script>

<style lang="scss" scoped>
/* æ ·å¼å®šä¹‰ */
</style>
```

### API æ¥å£è§„èŒƒ

```javascript
// æ¥å£å®šä¹‰ç¤ºä¾‹
import request from '@/utils/request'

// è·å–ç”¨æˆ·åˆ—è¡¨
export function listUser(query) {
  return request({
    url: '/system/user/list',
    method: 'get',
    params: query
  })
}

// æ–°å¢ç”¨æˆ·
export function addUser(data) {
  return request({
    url: '/system/user',
    method: 'post',
    data: data
  })
}
```

### è·¯ç”±é…ç½®è§„èŒƒ

```javascript
// è·¯ç”±é…ç½®ç¤ºä¾‹
{
  path: '/system/user',
  component: Layout,
  redirect: '/system/user/index',
  name: 'User',
  meta: {
    title: 'ç”¨æˆ·ç®¡ç†',
    icon: 'user',
    roles: ['admin']
  },
  children: [
    {
      path: 'index',
      component: () => import('@/views/system/user/index'),
      name: 'UserList',
      meta: { title: 'ç”¨æˆ·åˆ—è¡¨', icon: 'list' }
    }
  ]
}
```

## ğŸ³ Docker éƒ¨ç½²

### æ„å»ºé•œåƒ

```bash
# æ„å»ºå¼€å‘ç¯å¢ƒé•œåƒ
docker build -f deploy/docker/Dockerfile-ui-dev -t mingsha-ui:dev .

# æ„å»ºç”Ÿäº§ç¯å¢ƒé•œåƒ
docker build -f deploy/docker/Dockerfile-ui-prod -t mingsha-ui:prod .
```

### è¿è¡Œå®¹å™¨

```bash
# è¿è¡Œå¼€å‘ç¯å¢ƒå®¹å™¨
docker run -d -p 8080:80 mingsha-ui:dev

# è¿è¡Œç”Ÿäº§ç¯å¢ƒå®¹å™¨
docker run -d -p 80:80 mingsha-ui:prod
```

### Docker Compose

```yaml
version: '3.8'
services:
  mingsha-ui:
    image: mingsha-ui:latest
    ports:
      - "80:80"
    environment:
      - NODE_ENV=production
    restart: unless-stopped
```

## ğŸ“Š æ„å»ºåˆ†æ

é¡¹ç›®ä½¿ç”¨ Jenkins è¿›è¡Œè‡ªåŠ¨åŒ–æ„å»ºå’Œéƒ¨ç½²ï¼š

- **Jenkinsfile**: æ ‡å‡†æ„å»ºæµç¨‹
- **Jenkinsfile.sonar**: ä»£ç è´¨é‡åˆ†æ

### æ„å»ºå‚æ•°

| å‚æ•° | è¯´æ˜ | é»˜è®¤å€¼ |
|------|------|--------|
| `BUILD_ENV` | æ„å»ºç¯å¢ƒ | `dev` |
| `SKIP_TESTS` | è·³è¿‡æµ‹è¯• | `false` |
| `DOCKER_BUILD` | æ„å»ºDockeré•œåƒ | `false` |
| `DEPLOY` | è‡ªåŠ¨éƒ¨ç½² | `false` |

### ç¯å¢ƒé…ç½®

é¡¹ç›®æ”¯æŒå¤šç¯å¢ƒé…ç½®ï¼š

- **å¼€å‘ç¯å¢ƒ**: `npm run dev`
- **æµ‹è¯•ç¯å¢ƒ**: `npm run build:stage`
- **ç”Ÿäº§ç¯å¢ƒ**: `npm run build:prod`

### æ€§èƒ½ä¼˜åŒ–

- è·¯ç”±æ‡’åŠ è½½
- ç»„ä»¶æŒ‰éœ€åŠ è½½
- å›¾ç‰‡å‹ç¼©ä¼˜åŒ–
- Gzip å‹ç¼©
- CDN åŠ é€Ÿ

## ğŸ” å¸¸è§é—®é¢˜

### 1. ä¾èµ–å®‰è£…å¤±è´¥

```bash
# æ¸…é™¤ npm ç¼“å­˜
npm cache clean --force

# åˆ é™¤ node_modules å’Œ package-lock.json
rm -rf node_modules package-lock.json

# é‡æ–°å®‰è£…ä¾èµ–
npm install
```

### 2. å¼€å‘æœåŠ¡å™¨å¯åŠ¨å¤±è´¥

æ£€æŸ¥ç«¯å£æ˜¯å¦è¢«å ç”¨ï¼š
```bash
# æŸ¥çœ‹ç«¯å£å ç”¨
lsof -i :8080

# æ€æ­»å ç”¨è¿›ç¨‹
kill -9 <PID>
```

### 3. æ„å»ºå¤±è´¥

æ£€æŸ¥ Node.js ç‰ˆæœ¬æ˜¯å¦ç¬¦åˆè¦æ±‚ï¼š
```bash
node --version
```

### 4. æƒé™é—®é¢˜

ç¡®ä¿ç”¨æˆ·å…·æœ‰ç›¸åº”ç›®å½•çš„è¯»å†™æƒé™ï¼š
```bash
sudo chown -R $USER:$USER ui/
```
